<html>
<head>
    <title>Longpoller</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript" charset="utf-8">
var timestamp;
function callNode() {

    $.ajax({
        url: 'http://127.0.0.1:8080/',
        async: true,
        cache: false,
        timeout: 35000,
        success: function(response) {

            currentTime = new Date().getTime();
            console.log(currentTime - parseInt(response));

            // make new call
            callNode();
        },
        error: function(jqXHR, textStatus, errorThrown) {
            console.log('error ' + textStatus + " " + errorThrown);
        }
    });
}
$(function () {
    setTimeout(callNode); //call function with setTimeout in order to avoid ugly constant browser loading 
});
</script>
</head><body>
<H3> Server Results </H3>
<hr />
</body>
</html>